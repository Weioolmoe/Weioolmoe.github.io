{"version":3,"sources":["webpack:///src/lib/code-diff/index.vue","webpack:///./src/lib/code-diff/index.vue?5947","webpack:///./src/lib/code-diff/index.vue","webpack:///./src/lib/index.js","webpack:///src/App.vue","webpack:///./src/App.vue?a4c4","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["code_diff","name","props","oldString","type","String","default","newString","context","Number","outputFormat","directives","highlight","el","querySelectorAll","forEach","block","lib_default","a","highlightBlock","computed","html","this","createdHtml","methods","args","dd","diff","apply","undefined","outStr","diff2html","getJsonFromDiff","inputFormat","showFiles","matching","replace","hljs","getPrettyHtml","lib_code_diff","render","_h","$createElement","_c","_self","attrs","id","rawName","domProps","innerHTML","_s","staticRenderFns","src_lib_code_diff","__webpack_require__","normalizeComponent","ssrContext","codeDiff","install","Vue","component","App","components","data","oldStr","newStr","fotmat","watch","v","localStorage","setItem","created","getItem","handleClearLocalStorage","loadTextFromFile","e","_this","file","target","files","reader","FileReader","onload","result","readAsText","loadNewTextFromFile","_this2","selectortype_template_index_0_src_App","_vm","gutter","span","label","on","change","_v","active-text","inactive-text","model","value","callback","$$v","expression","placeholder","click","old-string","new-string","output-format","src_App","App_normalizeComponent","config","productionTip","use","ElementUI","template"],"mappings":"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","file":"static/js/app.bc1c309f228a26786825.js","sourcesContent":["<template>\n  <div id=\"app\">\n    <div v-html=\"html\" v-highlight></div>\n  </div>\n</template>\n\n<script>\nimport {createPatch} from 'diff'\nimport {Diff2Html} from 'diff2html'\nimport hljs from 'highlight.js'\nimport 'highlight.js/styles/googlecode.css'\nimport 'diff2html/dist/diff2html.css'\nexport default {\n  name: 'code-diff',\n  props: {\n    oldString: {\n      type: String,\n      default: ''\n    },\n    newString: {\n      type: String,\n      default: ''\n    },\n    context: {\n      type: Number,\n      default: 5\n    },\n    outputFormat: {\n      type: String,\n      default: 'line-by-line'\n    }\n  },\n  directives: {\n    highlight: function (el) {\n      let blocks = el.querySelectorAll('code')\n      blocks.forEach((block) => {\n        hljs.highlightBlock(block)\n      })\n    }\n  },\n  computed: {\n    html () {\n      return this.createdHtml(this.oldString, this.newString, this.context, this.outputFormat)\n    }\n  },\n  methods: {\n    createdHtml (oldString, newString, context, outputFormat) {\n      function hljs (html) {\n        return html.replace(/<span class=\"d2h-code-line-ctn\">(.+?)<\\/span>/g, '<span class=\"d2h-code-line-ctn\"><code>$1</code></span>')\n      }\n      let args = ['', oldString, newString, '', '', {context: context}]\n      let dd = createPatch(...args)\n      let outStr = Diff2Html.getJsonFromDiff(dd, {inputFormat: 'diff', outputFormat: outputFormat, showFiles: false, matching: 'lines'})\n      let html = Diff2Html.getPrettyHtml(outStr, {inputFormat: 'json', outputFormat: outputFormat, showFiles: false, matching: 'lines'})\n      return hljs(html)\n    }\n  }\n}\n</script>\n\n<style>\n.hljs{\n  display: inline-block;\n  padding: 0;\n  background: transparent;\n  vertical-align:middle\n}\n.d2h-file-header{\n  display: none\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/lib/code-diff/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\"}],domProps:{\"innerHTML\":_vm._s(_vm.html)}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6ef528a6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/lib/code-diff/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6ef528a6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6ef528a6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/code-diff/index.vue\n// module id = null\n// module chunks = ","import codeDiff from './code-diff'\n\n/* istanbul ignore next */\ncodeDiff.install = function (Vue) {\n  Vue.component(codeDiff.name, codeDiff)\n}\n\nexport default codeDiff\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/index.js","<template>\n  <div>\n    <el-form>\n      <el-row :gutter=\"10\">\n        <el-col :span=\"12\">\n          <el-form-item label=\"旧数据：\">\n            <!-- <el-input\n              v-model=\"oldStr\"\n              type=\"textarea\"\n              :autosize=\"{minRows: 2, maxRows: 15}\"\n              placeholder=\"请输入旧数据\"/> -->\n              <input type=\"file\" @change=\"loadTextFromFile\" />\n              <!-- <textarea rows=\"10\" v-model=\"oldStr\"></textarea> -->\n              <!-- <file-reader @load=\"oldStr = $event\"></file-reader> -->\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"新数据：\">\n            <!-- <el-input\n              v-model=\"newStr\"\n              type=\"textarea\"\n              :autosize=\"{minRows: 2, maxRows: 15}\"\n              placeholder=\"请输入新数据\"/> -->\n              <input type=\"file\" @change=\"loadNewTextFromFile\" />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-form-item label=\"展示效果：\">\n            <el-switch\n              v-model=\"fotmat\"\n              active-text=\"line-by-line\"\n              inactive-text=\"side-by-side\"\n            ></el-switch>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-form-item label=\"差异化范围：\">\n            <el-input-number\n              v-model=\"context\"\n              placeholder=\"\"\n            ></el-input-number>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-form-item label=\"清除缓存：\">\n            <el-button type=\"text\" @click=\"handleClearLocalStorage\">清除</el-button>\n          </el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n    <code-diff\n      :old-string=\"oldStr\"\n      :new-string=\"newStr\"\n      :context=\"context\"\n      :output-format=\"outputFormat\"\n    />\n  </div>\n</template>\n\n<script>\nimport codeDiff from './lib/index.js'\nexport default {\n  name: 'App',\n  components: {\n    codeDiff\n  },\n  data () {\n    return {\n      oldStr: '',\n      newStr: '',\n      fotmat: false,\n      context: 10\n    }\n  },\n  computed: {\n    outputFormat () {\n      return this.fotmat ? 'line-by-line' : 'side-by-side'\n    }\n  },\n  watch: {\n    oldStr (v) {\n      localStorage.setItem('oldStr', v)\n    },\n    newStr (v) {\n      localStorage.setItem('newStr', v)\n    }\n  },\n  created () {\n    this.oldStr = localStorage.getItem('oldStr') || ''\n    this.newStr = localStorage.getItem('newStr') || ''\n  },\n  methods: {\n    handleClearLocalStorage () {\n      this.newStr = ''\n      this.oldStr = ''\n      localStorage.setItem('newStr', '')\n      localStorage.setItem('oldStr', '')\n    },\n    loadTextFromFile: function (e) {\n      const file = e.target.files[0]\n      const reader = new FileReader()\n      reader.onload = e => {\n        this.oldStr = e.target.result\n      }\n      reader.readAsText(file, 'utf-8')\n    },\n    loadNewTextFromFile: function (e) {\n      const file = e.target.files[0]\n      const reader = new FileReader()\n      reader.onload = e => {\n        this.newStr = e.target.result\n      }\n      reader.readAsText(file, 'utf-8')\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"旧数据：\"}},[_c('input',{attrs:{\"type\":\"file\"},on:{\"change\":_vm.loadTextFromFile}})])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"新数据：\"}},[_c('input',{attrs:{\"type\":\"file\"},on:{\"change\":_vm.loadNewTextFromFile}})])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"展示效果：\"}},[_c('el-switch',{attrs:{\"active-text\":\"line-by-line\",\"inactive-text\":\"side-by-side\"},model:{value:(_vm.fotmat),callback:function ($$v) {_vm.fotmat=$$v},expression:\"fotmat\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"差异化范围：\"}},[_c('el-input-number',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.context),callback:function ($$v) {_vm.context=$$v},expression:\"context\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"清除缓存：\"}},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.handleClearLocalStorage}},[_vm._v(\"清除\")])],1)],1)],1)],1),_vm._v(\" \"),_c('code-diff',{attrs:{\"old-string\":_vm.oldStr,\"new-string\":_vm.newStr,\"context\":_vm.context,\"output-format\":_vm.outputFormat}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-66efc36c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-66efc36c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\n\nVue.config.productionTip = false\nVue.use(ElementUI)\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}